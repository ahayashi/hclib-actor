
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://github.com/ahayashi/hclib-actor/tools/craypat/">
      
      
        <link rel="prev" href="../../details/yield/">
      
      
        <link rel="next" href="../actorprof/">
      
      
      <link rel="icon" href="../../material/chili-hot-outline">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>CrayPat - HClib-Actor Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introduction" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="HClib-Actor Documentation" class="md-header__button md-logo" aria-label="HClib-Actor Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10.94 4.7A.99.99 0 0 0 10 4V2c.77 0 1.47.29 2 .77V4c.45 0 .81.3.94.7-1.11.38-2.01 1.35-2.51 2.62l-1.57-.9C9.38 5.6 10.11 5 10.94 4.7M10 11c0-.77.23-1.5.6-2.09l-1.34-.76C8.5 8.44 8 9.16 8 10v1c0 7.05 4.9 9.8 7.03 10.66C12.41 19.62 10 16.2 10 11M8.94 4.7A.99.99 0 0 0 8 4V2.77C7.47 2.29 6.77 2 6 2v2c.45 0 .81.3.94.7-.83.3-1.56.9-2.08 1.72l1.57.9c.5-1.27 1.4-2.24 2.51-2.62M6 11c0-.77.23-1.5.6-2.09l-1.34-.76C4.5 8.44 4 9.16 4 10v1c0 7.05 4.9 9.8 7.03 10.66C8.41 19.62 6 16.2 6 11m14-1v12s-8-2-8-11v-1c0-.73.4-1.37 1-1.72l1.25.72L16 8l1.75 1L19 8.28c.6.35 1 .99 1 1.72m-2 8.87v-7.42l-2-1.15-2 1.13c.17 4.01 2.23 6.26 4 7.44M12.73 6.63l1.52.87 1.75-1 1.75 1 1.52-.87c-.55-.97-1.36-1.69-2.3-1.98A2.996 2.996 0 0 0 14 2v2c.44 0 .8.29.94.69-.91.31-1.68 1.01-2.21 1.94"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            HClib-Actor Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              CrayPat
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/ahayashi/hclib-actor" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    hclib_actor
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="HClib-Actor Documentation" class="md-nav__button md-logo" aria-label="HClib-Actor Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10.94 4.7A.99.99 0 0 0 10 4V2c.77 0 1.47.29 2 .77V4c.45 0 .81.3.94.7-1.11.38-2.01 1.35-2.51 2.62l-1.57-.9C9.38 5.6 10.11 5 10.94 4.7M10 11c0-.77.23-1.5.6-2.09l-1.34-.76C8.5 8.44 8 9.16 8 10v1c0 7.05 4.9 9.8 7.03 10.66C12.41 19.62 10 16.2 10 11M8.94 4.7A.99.99 0 0 0 8 4V2.77C7.47 2.29 6.77 2 6 2v2c.45 0 .81.3.94.7-.83.3-1.56.9-2.08 1.72l1.57.9c.5-1.27 1.4-2.24 2.51-2.62M6 11c0-.77.23-1.5.6-2.09l-1.34-.76C4.5 8.44 4 9.16 4 10v1c0 7.05 4.9 9.8 7.03 10.66C8.41 19.62 6 16.2 6 11m14-1v12s-8-2-8-11v-1c0-.73.4-1.37 1-1.72l1.25.72L16 8l1.75 1L19 8.28c.6.35 1 .99 1 1.72m-2 8.87v-7.42l-2-1.15-2 1.13c.17 4.01 2.23 6.26 4 7.44M12.73 6.63l1.52.87 1.75-1 1.75 1 1.52-.87c-.55-.97-1.36-1.69-2.3-1.98A2.996 2.996 0 0 0 14 2v2c.44 0 .8.29.94.69-.91.31-1.68 1.01-2.21 1.94"/></svg>

    </a>
    HClib-Actor Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ahayashi/hclib-actor" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    hclib_actor
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Background
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Background
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Theory
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Theory
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../background/bsp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bulk Synchronous Parallel
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../background/pgas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Partitioned Global Address Space
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../background/actor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Actor Model
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Practice
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Practice
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../background/openshmem/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OpenSHMEM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2_2" id="__nav_2_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Bale
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_2">
            <span class="md-nav__icon md-icon"></span>
            Bale
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../background/bale/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Summary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../background/spmat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    spmat
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../background/libgetput/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    libgetput
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../background/hclib/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Habanero-C Library (HClib)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Containers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Containers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/singularity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Singularity
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Clusters/Supercomputers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Clusters/Supercomputers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/clusters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NERSC/ORNL/PACE
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Writing HClib-Actor Programs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Writing HClib-Actor Programs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Theory
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            Theory
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../details/fabsp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fine-grained-Asynchronous Bulk-Synchronous Parallelism (FABS)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../details/termination/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Automatic Termination Detection
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Practice
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Practice
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../details/basics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Step-by-step Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../details/put/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    The remote put pattern
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../details/get/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    The remote get pattern
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../details/yield/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    The yield() operation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Tools/Tips
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Tools/Tips
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" checked>
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    CrayPat
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    CrayPat
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-by-step-guide" class="md-nav__link">
    <span class="md-ellipsis">
      Step-by-Step Guide
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step-by-Step Guide">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-0-load-compilers" class="md-nav__link">
    <span class="md-ellipsis">
      Step 0: Load compilers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-1-unloadload-required-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Unload/Load required modules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-build-the-application-as-normal-but-keep-o-files" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Build the application as normal but keep .o files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-instrument-the-application-using-pat_build" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Instrument the application using pat_build
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-run-the-instrumented-executable-to-get-performance-data" class="md-nav__link">
    <span class="md-ellipsis">
      Step 4: Run the instrumented executable to get performance data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 4: Run the instrumented executable to get performance data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#option-1-run-the-executable-with-an-interactive-batch-job" class="md-nav__link">
    <span class="md-ellipsis">
      Option 1: Run the executable with an interactive batch job
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-2-run-the-executable-with-sbatch-script" class="md-nav__link">
    <span class="md-ellipsis">
      Option 2: Run the executable with sbatch script
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-generate-human-readable-content-with-pat_report" class="md-nav__link">
    <span class="md-ellipsis">
      Step 5: Generate human-readable content with pat_report
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 5: Generate human-readable content with pat_report">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#exemplar-text-report" class="md-nav__link">
    <span class="md-ellipsis">
      Exemplar text report
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-apprentice2-for-analyzing-results" class="md-nav__link">
    <span class="md-ellipsis">
      Using Apprentice2 for analyzing results
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#specifying-profiling-region" class="md-nav__link">
    <span class="md-ellipsis">
      Specifying profiling region
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Specifying profiling region">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#collecting-hardware-performance-counters-hwpc" class="md-nav__link">
    <span class="md-ellipsis">
      Collecting hardware performance counters (HWPC)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Collecting hardware performance counters (HWPC)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-find-available-hardware-counters" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Find available hardware counters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-selecting-the-hardware-counters" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Selecting the hardware counters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-run-the-instrumented-excutable-with-craypat" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Run the instrumented excutable with CrayPat
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-readings" class="md-nav__link">
    <span class="md-ellipsis">
      Further Readings
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../actorprof/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ActorProf
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../trace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HClib Trace
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tcomm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HClib T_COMM
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tips
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Tips
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../slurm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Slurm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hclib/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hclib
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../history/history/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    History
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributors
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-by-step-guide" class="md-nav__link">
    <span class="md-ellipsis">
      Step-by-Step Guide
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step-by-Step Guide">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-0-load-compilers" class="md-nav__link">
    <span class="md-ellipsis">
      Step 0: Load compilers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-1-unloadload-required-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Unload/Load required modules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-build-the-application-as-normal-but-keep-o-files" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Build the application as normal but keep .o files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-instrument-the-application-using-pat_build" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Instrument the application using pat_build
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-run-the-instrumented-executable-to-get-performance-data" class="md-nav__link">
    <span class="md-ellipsis">
      Step 4: Run the instrumented executable to get performance data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 4: Run the instrumented executable to get performance data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#option-1-run-the-executable-with-an-interactive-batch-job" class="md-nav__link">
    <span class="md-ellipsis">
      Option 1: Run the executable with an interactive batch job
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-2-run-the-executable-with-sbatch-script" class="md-nav__link">
    <span class="md-ellipsis">
      Option 2: Run the executable with sbatch script
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-generate-human-readable-content-with-pat_report" class="md-nav__link">
    <span class="md-ellipsis">
      Step 5: Generate human-readable content with pat_report
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 5: Generate human-readable content with pat_report">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#exemplar-text-report" class="md-nav__link">
    <span class="md-ellipsis">
      Exemplar text report
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-apprentice2-for-analyzing-results" class="md-nav__link">
    <span class="md-ellipsis">
      Using Apprentice2 for analyzing results
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#specifying-profiling-region" class="md-nav__link">
    <span class="md-ellipsis">
      Specifying profiling region
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Specifying profiling region">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#collecting-hardware-performance-counters-hwpc" class="md-nav__link">
    <span class="md-ellipsis">
      Collecting hardware performance counters (HWPC)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Collecting hardware performance counters (HWPC)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-find-available-hardware-counters" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Find available hardware counters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-selecting-the-hardware-counters" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Selecting the hardware counters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-run-the-instrumented-excutable-with-craypat" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Run the instrumented excutable with CrayPat
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-readings" class="md-nav__link">
    <span class="md-ellipsis">
      Further Readings
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/ahayashi/hclib-actor/blob/master/doc/markdowns/tools/craypat.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/ahayashi/hclib-actor/raw/master/doc/markdowns/tools/craypat.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


  <h1>CrayPat</h1>

<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<p>CrayPat (Cray Performance Measurement and Analysis toolset) is Cray’s performance analysis tool offered by Cray. Since CrayPat is only available on Cray systems, let us give a brief step-by-step guidance on how to use it on <strong>Perlmutter</strong>.</p>
<h2 id="step-by-step-guide">Step-by-Step Guide<a class="headerlink" href="#step-by-step-guide" title="Permanent link">&para;</a></h2>
<p>Here we will take Triangle Counting selector as an example:</p>
<h3 id="step-0-load-compilers">Step 0: Load compilers<a class="headerlink" href="#step-0-load-compilers" title="Permanent link">&para;</a></h3>
<p>It is important to load compiler modules before Step 1. In our case, <code>source</code> <a href="https://github.com/ahayashi/hclib-actor/blob/master/cluster-scripts/perlmutter_setup.sh">perlmutter_setup.sh</a>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>source ./perlmutter_setup.sh
</code></pre></div></p>
<h3 id="step-1-unloadload-required-modules">Step 1: Unload/Load required modules<a class="headerlink" href="#step-1-unloadload-required-modules" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>module unload darshan
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>module load perftools-base perftools
</code></pre></div>
<h3 id="step-2-build-the-application-as-normal-but-keep-o-files">Step 2: Build the application as normal but <strong>keep <code>.o</code> files</strong><a class="headerlink" href="#step-2-build-the-application-as-normal-but-keep-o-files" title="Permanent link">&para;</a></h3>
<p>Go to the <code>test</code> directory to separately create an object file and executable for the triangle counting code:
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>cd $HCLIB_ROOT/../modules/bale_actor/test/
</code></pre></div>
Create a tringle counting object file (.o file):
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>CC -g -O3 -std=c++11 -DUSE_SHMEM=1 -I$HCLIB_ROOT/include -I$BALE_INSTALL/include -I$HCLIB_ROOT/../modules/bale_actor/inc -L$HCLIB_ROOT/lib -L$BALE_INSTALL/lib -L$HCLIB_ROOT/../modules/bale_actor/lib -c -o triangle_selector.o triangle_selector.cpp -lhclib -lrt -ldl -lspmat -lconvey -lexstack -llibgetput -lhclib_bale_actor -lm
</code></pre></div>
Build a triangle counting executable file:
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>CC -g -O3 -std=c++11 -DUSE_SHMEM=1 -I$HCLIB_ROOT/include -I$BALE_INSTALL/include -I$HCLIB_ROOT/../modules/bale_actor/inc -L$HCLIB_ROOT/lib -L$BALE_INSTALL/lib -L$HCLIB_ROOT/../modules/bale_actor/lib -o triangle_selector  triangle_selector.o -lhclib -lrt -ldl -lspmat -lconvey -lexstack -llibgetput -lhclib_bale_actor -lm
</code></pre></div></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>It is recommended to do <code>make triangle_selector</code> first to see the full compilation command.</p>
<ul>
<li>First, copy and paste the full command and change <code>-o triangle_selector triangle_selector.cpp</code> to <code>-c triangle_selector triangle_selector.cpp</code> to create an object file (.o file). </li>
<li>Second, copy and paste the command again and change <code>-o triangle_selector triangle_selector.cpp</code> to <code>-o triangle_selector triangle_selector.o</code> to create an executable.</li>
</ul>
</div>
<h3 id="step-3-instrument-the-application-using-pat_build">Step 3: Instrument the application using <code>pat_build</code><a class="headerlink" href="#step-3-instrument-the-application-using-pat_build" title="Permanent link">&para;</a></h3>
<p>Generate a CrayPat instrumented executable using <code>pat_build</code>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>pat_build -w -g shmem triangle_selector
</code></pre></div></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default, <code>triangle_selector+pat</code> is generated.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>pat_build</code> has different option that can trace a specific function(s)</p>
<ul>
<li><code>-g</code>: trace Cray-provided library function group such as MPI and OpenSHMEM</li>
<li><code>-u</code>: trace all user functions routine by routine</li>
<li><code>-w</code>: flag that enables tracing</li>
<li><code>-T -w</code>: trace user-defined functions<ul>
<li>e.g, <code>pat_build -w -T selector_function</code></li>
</ul>
</li>
</ul>
</div>
<h3 id="step-4-run-the-instrumented-executable-to-get-performance-data">Step 4: Run the instrumented executable to get performance data<a class="headerlink" href="#step-4-run-the-instrumented-executable-to-get-performance-data" title="Permanent link">&para;</a></h3>
<h4 id="option-1-run-the-executable-with-an-interactive-batch-job">Option 1: Run the executable with an interactive batch job<a class="headerlink" href="#option-1-run-the-executable-with-an-interactive-batch-job" title="Permanent link">&para;</a></h4>
<p>Allocating resources:
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>salloc --nodes 1 --qos interactive --time 00:05:00 --constraint cpu --account=mxxx
</code></pre></div>
Run the excutable to generate a directory (e.g., <code>triangle_selector+pat+174621-8716327t</code>) containing performance data files with the<code>.xf</code> suffix:
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>srun  -n 128 --cpu-bind=cores ./triangle_selector+pat
</code></pre></div></p>
<h4 id="option-2-run-the-executable-with-sbatch-script">Option 2: Run the executable with sbatch script<a class="headerlink" href="#option-2-run-the-executable-with-sbatch-script" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>#!/bin/bash
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>#SBATCH -q regular
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>#SBATCH -N 1
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>#SBATCH -C cpu
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>#SBATCH -t 0:05:00
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>#SBATCH -ooshmem_%j_tri_cout.out
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>source ./oshmem-perlmutter.sh
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>module unload darshan
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>module load perftools-base perftools
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a>export LD_LIBRARY_PATH=$CRAY_LD_LIBRARY_PATH:$LD_LIBRARY_PATH
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a>
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a>cd $HOME/hclib/modules/bale_actor/test
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a>echo &quot;--------------------------------------------&quot;
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a>srun  -n 128 --cpu-bind=cores ./triangle_selector+pat
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a>echo &quot;--------------------------------------------&quot;
</code></pre></div>
<h3 id="step-5-generate-human-readable-content-with-pat_report">Step 5: Generate human-readable content with <code>pat_report</code><a class="headerlink" href="#step-5-generate-human-readable-content-with-pat_report" title="Permanent link">&para;</a></h3>
<p>Run <code>pat_report</code> with the generated directory name, which will output a text report on the terminal and creates files with different suffices, <code>.ap2</code> and <code>.apa</code> inside the directory:
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>pat_report ./triangle_selector+pat+174621-8716327t
</code></pre></div></p>
<h4 id="exemplar-text-report">Exemplar text report<a class="headerlink" href="#exemplar-text-report" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>CrayPat/X:  Version 23.03.0 Revision 46f710008  02/13/23 20:24:04
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>Number of PEs (MPI ranks):   128
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>Numbers of PEs per Node:     128
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>Numbers of Threads per PE:     1
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>Number of Cores per Socket:   64
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>Execution start time:  Fri Apr 14 13:44:36 2023
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>System name and speed:  nid004675  2.671 GHz (nominal)
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>AMD   Milan                CPU  Family: 25  Model:  1  Stepping:  1
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>Core Performance Boost:  All 128 PEs have CPB capability
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>Current path to data file:
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a>  /Users/joseph/triangle_selector+pat+197953-8716330t   (RTS, 128 data files)
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a>Notes for table 1:
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a>  This table shows functions that have significant exclusive time,
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a>    averaged across ranks.
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a>  For further explanation, see the &quot;General table notes&quot; below, or 
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a>    use:  pat_report -v -O profile ...
<a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a>Table 1:  Profile by Function Group and Function
<a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a>  Time% |     Time |     Imb. |  Imb. | Calls | Group
<a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a>        |          |     Time | Time% |       |  Function
<a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a>        |          |          |       |       |   PE=HIDE
<a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a> 100.0% | 6.079316 |       -- |    -- | 404.0 | Total
<a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a>|-------------------------------------------------------------------
<a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a>|  95.2% | 5.789928 |       -- |    -- |   2.0 | USER
<a id="__codelineno-10-24" name="__codelineno-10-24" href="#__codelineno-10-24"></a>||------------------------------------------------------------------
<a id="__codelineno-10-25" name="__codelineno-10-25" href="#__codelineno-10-25"></a>||  47.7% | 2.901679 | 0.292158 |  9.2% |   1.0 | main
<a id="__codelineno-10-26" name="__codelineno-10-26" href="#__codelineno-10-26"></a>||  47.5% | 2.888249 | 0.000057 |  0.0% |   1.0 | #1.selector_function
<a id="__codelineno-10-27" name="__codelineno-10-27" href="#__codelineno-10-27"></a>||==================================================================
<a id="__codelineno-10-28" name="__codelineno-10-28" href="#__codelineno-10-28"></a>|   4.8% | 0.289263 | 0.100863 | 26.1% |   2.0 | DL
<a id="__codelineno-10-29" name="__codelineno-10-29" href="#__codelineno-10-29"></a>||------------------------------------------------------------------
<a id="__codelineno-10-30" name="__codelineno-10-30" href="#__codelineno-10-30"></a>||   4.8% | 0.289263 | 0.100863 | 26.1% |   2.0 | dlopen
<a id="__codelineno-10-31" name="__codelineno-10-31" href="#__codelineno-10-31"></a>|===================================================================
<a id="__codelineno-10-32" name="__codelineno-10-32" href="#__codelineno-10-32"></a>Notes for table 2:
<a id="__codelineno-10-33" name="__codelineno-10-33" href="#__codelineno-10-33"></a>  This table shows functions that have the most significant exclusive
<a id="__codelineno-10-34" name="__codelineno-10-34" href="#__codelineno-10-34"></a>    time, taking the maximum time across ranks and threads.
<a id="__codelineno-10-35" name="__codelineno-10-35" href="#__codelineno-10-35"></a>  For further explanation, see the &quot;General table notes&quot; below, or 
<a id="__codelineno-10-36" name="__codelineno-10-36" href="#__codelineno-10-36"></a>    use:  pat_report -v -O profile_max ...
<a id="__codelineno-10-37" name="__codelineno-10-37" href="#__codelineno-10-37"></a>Table 2:  Profile of maximum function times
<a id="__codelineno-10-38" name="__codelineno-10-38" href="#__codelineno-10-38"></a>  Time% |     Time |     Imb. |  Imb. | Function
<a id="__codelineno-10-39" name="__codelineno-10-39" href="#__codelineno-10-39"></a>        |          |     Time | Time% |  PE=[max,min]
<a id="__codelineno-10-40" name="__codelineno-10-40" href="#__codelineno-10-40"></a>|-----------------------------------------------------------
<a id="__codelineno-10-41" name="__codelineno-10-41" href="#__codelineno-10-41"></a>| 100.0% | 3.193838 | 0.292158 |  9.2% | main
<a id="__codelineno-10-42" name="__codelineno-10-42" href="#__codelineno-10-42"></a>...
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>.ap2</code> is used to view performance data graphically with the Cray Apprentice2 tool.<br />
<code>.apa</code> is for suggested <code>pat_build</code> options for more detailed tracing experiments.</p>
</div>
<h2 id="using-apprentice2-for-analyzing-results">Using Apprentice2 for analyzing results<a class="headerlink" href="#using-apprentice2-for-analyzing-results" title="Permanent link">&para;</a></h2>
<p>Cray Apprentice2 is a GUI-based analysis tool that can be used to visualize performance data instrumented with the CrayPat tool. Cray offers a desktop version of the Cray Apprentice2 visualizer so you can do your analysis locally.</p>
<p>To install a desktop version, you can find the installer on Perlmutter as below:
<code>$CRAYPAT_ROOT/share/desktop_installers</code></p>
<p><code>scp</code> an appropriate installer to your local machine and install it. After that, you will be able to open <code>.ap2</code> file with Apprentice2.</p>
<div class="admonition tips">
<p class="admonition-title">Tips</p>
<p>If you encounter this error: <code>/some/path/./a.out: error while loading shared libraries: pat.so: cannot open shared object file: No such file or directory</code>  </p>
<p>Try this: <code>export LD_LIBRARY_PATH=$CRAY_LD_LIBRARY_PATH:$LD_LIBRARY_PATH</code></p>
</div>
<h2 id="specifying-profiling-region">Specifying profiling region<a class="headerlink" href="#specifying-profiling-region" title="Permanent link">&para;</a></h2>
<p>CrayPat performance API can be use to identify the region of interest (ROG) for analysis.</p>
<ul>
<li><code>PAT_record(int state)</code></li>
<li>Setting the recording state to <strong>PAT_STATE_ON</strong> or <strong>PAT_STATE_OFF</strong></li>
<li>Needs to be inserted before the ROG</li>
<li><code>PAT_region_begin(int id, char *label)</code></li>
<li>Defines the boundaries of a region</li>
<li>Needs to be inserted at the start the ROG</li>
<li><code>PAT_region_end(int id);</code></li>
<li>regions must be either separate or nested</li>
<li>Needs to be inserted at the end of ROG</li>
</ul>
<h3 id="example">Example<a class="headerlink" href="#example" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>#include &lt;pat_api.h&gt;
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>...
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>PAT_record(PAT_STATE_ON);
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>PAT_region_begin(1,&quot;selector_function&quot;);
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>triangle_selector();
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>PAT_region_end(1);
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>...
</code></pre></div>
After generating the instrumented excutable with <code>pat_build</code> and run it, CrayPat will generate a trace of ROG in the performance data which can be found in the <code>pat_report</code></p>
<p>Exemplar output
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>Table 1:  Profile by Function Group and Function
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>  Time% |     Time |     Imb. |  Imb. | Calls | Group
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>...
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>||  47.5% | 2.888249 | 0.000057 |  0.0% |   1.0 | #1.selector_function
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>||==================================================================
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>...
</code></pre></div></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please be cautious that <code>lgp_barrier()</code> will affect the load blance result when analysing with CrayPat region API. Therefore, it is recommended to insert the region before the <code>lgp_barrier()</code> function.</p>
</div>
<h2 id="collecting-hardware-performance-counters-hwpc">Collecting hardware performance counters (HWPC)<a class="headerlink" href="#collecting-hardware-performance-counters-hwpc" title="Permanent link">&para;</a></h2>
<p>The Performance Application Programming Interface (PAPI) allows you to programmatically collect hardware performance counters (HWPC) in your code. While the user is supposed to manually insert PAPI routines to specify what HWPCs are measured and when to start/stop measuing them, CrayPat dramatically facilitate that process. Specifically, all the user has to do is to just specify HWPC name(s) in an environment variable. Here are the steps to collect HWPCs with CrayPat:</p>
<h3 id="step-1-find-available-hardware-counters">Step 1: Find available hardware counters<a class="headerlink" href="#step-1-find-available-hardware-counters" title="Permanent link">&para;</a></h3>
<p>Available hardware counters can be find with <code>papi_avail</code>.</p>
<p>Available hardware counters on <strong>Perlmutter</strong> 
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>PAPI_L1_DCM     Level 1 data cache misses
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>PAPI_L2_DCM     Level 2 data cache misses
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>PAPI_L2_ICM     Level 2 instruction cache misses
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>PAPI_TLB_DM     Data translation lookaside buffer misses
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>PAPI_TLB_IM     Instruction translation lookaside buffer misses
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>PAPI_BR_MSP     Conditional branch instructions mispredicted
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>PAPI_TOT_INS      Instructions completed
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>PAPI_FP_INS     Floating point instructions
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>PAPI_BR_INS     Branch instructions
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>PAPI_VEC_INS      Vector/SIMD instructions (could include integer)
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>PAPI_TOT_CYC      Total cycles
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a>PAPI_L2_DCH     Level 2 data cache hits
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>PAPI_L1_DCA     Level 1 data cache accesses
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a>PAPI_L2_DCR     Level 2 data cache reads
<a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a>PAPI_L2_ICH     Level 2 instruction cache hits
<a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a>PAPI_L2_ICA     Level 2 instruction cache accesses
<a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a>PAPI_L2_ICR     Level 2 instruction cache reads
<a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a>PAPI_FML_INS      Floating point multiply instructions
<a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a>PAPI_FAD_INS      Floating point add instructions
<a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a>PAPI_FDV_INS      Floating point divide instructions
<a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a>PAPI_FSQ_INS      Floating point square root instructions
<a id="__codelineno-13-22" name="__codelineno-13-22" href="#__codelineno-13-22"></a>PAPI_FP_OPS     Floating point operations
</code></pre></div></p>
<h3 id="step-2-selecting-the-hardware-counters">Step 2: Selecting the hardware counters<a class="headerlink" href="#step-2-selecting-the-hardware-counters" title="Permanent link">&para;</a></h3>
<p>Setting the environment variable <code>PAT_RT_PERFCTR</code> to specific events/group:</p>
<ul>
<li>Predefined Counter Groups, e.g., <code>export PAT_RT_PERFCTR=0</code>.</li>
<li>Specify individual events (maximum of 4 event at a time), e.g. <code>export PAT_RT_PERFCTR="PAPI_L2_DCM,PAPI_L2_ICM,PAPI_L2_DCH,PAPI_L2_DCR"</code>.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Predefined Counter Groups can be found on slides 38 of <a href="https://www.nersc.gov/assets/Uploads/PerformanceTools.pdf">NERSC PerformanceTools</a></p>
</div>
<h3 id="step-3-run-the-instrumented-excutable-with-craypat">Step 3:  Run the instrumented excutable with CrayPat<a class="headerlink" href="#step-3-run-the-instrumented-excutable-with-craypat" title="Permanent link">&para;</a></h3>
<p>After exporting the hardware counter variable we just need to run the instrumented excutable and generate human-readable content with <code>pat_report</code>. A summary for the trace of ROG can be found in the text output of <code>pat_report</code></p>
<p>Exemplar output
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>...
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>Table 3:  Profile by Function Group and Function
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>Group / Function / PE=HIDE
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>==============================================================================
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>  Total
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>------------------------------------------------------------------------------
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>  Time%                                  100.0% 
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>  Time                                 6.079316 secs
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>  Imb. Time                                  -- secs
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>  Imb. Time%                                 -- 
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>  Calls                  66.455 /sec      404.0 calls
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a>  PAPI_L2_DCM             0.062M/sec    378,368 misses
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a>  PAPI_L2_ICM             0.051M/sec    310,119 misses
<a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a>  PAPI_L2_DCH             0.001G/sec  6,453,273 hits
<a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a>  PAPI_L2_DCR             0.001G/sec  6,929,521 ops
<a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a>  Average Time per Call                0.015048 secs
<a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a>  CrayPat Overhead : Time  0.0%
<a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a>  ...
</code></pre></div></p>
<h2 id="further-readings">Further Readings<a class="headerlink" href="#further-readings" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://docs.nersc.gov/tools/performance/craypat/">NESRC CrayPat documentation</a></li>
<li><a href="https://www.nersc.gov/assets/Uploads/05-craypat-reveal-20170609.pdf">NERSC prepared detailed tutorial on Cray's perftools</a></li>
<li><a href="https://www.nersc.gov/assets/Uploads/TR-CPO-NERSC-20190211-2.pdf">Cray XC Series Application Programming and Optimization</a></li>
<li><a href="https://www.nersc.gov/assets/Uploads/PerformanceTools.pdf">NERSC PerformanceTools</a></li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.action.view", "content.action.edit", "navigation.sections", "navigation.expand", {"permalink": true, "toc": null}], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.50899def.min.js"></script>
      
    
  </body>
</html>